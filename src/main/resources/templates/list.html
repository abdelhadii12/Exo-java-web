<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Aide à domicile RH - Liste des salariés</title>
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="/" th:text="'Aide à domicile RH - ' + ${nbSalaries} + ' salariés'">Aide à domicile RH</a>
  <div class="collapse navbar-collapse">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" th:href="@{/salaries}">Liste des salariés</a>
      </li>
    </ul>
    <form class="form-inline" th:action="@{/salaries}" method="get">
      <input name="nom" class="form-control mr-sm-2" type="search" placeholder="Rechercher par nom">
      <button class="btn btn-outline-success" type="submit">Rechercher</button>
    </form>
  </div>
</nav>

<div class="container mt-4">

  <h2>Liste des salariés</h2>
  <p>Total : <span th:text="${nbSalaries}">0</span></p>

  <table class="table table-striped">
    <thead>
    <tr>
      <th>Nom</th>
      <th>Date début contrat</th>
      <th>Jours travaillés</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="salarie : ${salaries}">
      <td th:text="${salarie.nom}">Nom</td>
      <td th:text="${salarie.moisDebutContrat}">01/01/2022</td>
      <td th:text="${salarie.joursTravaillesAnneeN}">0</td>
      <td>
        <a th:href="@{'/salaries/' + ${salarie.id}}" class="btn btn-primary btn-sm">Détails</a>
        <a th:href="@{'/salaries/' + ${salarie.id} + '/delete'}" class="btn btn-danger btn-sm">Supprimer</a>
      </td>
    </tr>
    </tbody>
  </table>

  <a th:href="@{/salaries/aide/new}" class="btn btn-success">Nouveau salarié</a>
</div>

<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
